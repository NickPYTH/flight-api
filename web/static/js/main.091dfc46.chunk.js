(this["webpackJsonpredux-profi-course"]=this["webpackJsonpredux-profi-course"]||[]).push([[0],{228:function(e,t,n){"use strict";n.r(t),n.d(t,"Ext",(function(){return et}));var a,i=n(0),r=n(37),l=n.n(r),c=n(1),o=n(87),u=n(18),s=Object(u.createSlice)({name:"user",initialState:{filials:[]},reducers:{}}).reducer,d=n(34),j="localhost",b="8080",f="http",p=Object(d.createApi)({reducerPath:"requestsByFilials",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/requestFilial")}),tagTypes:["RequestsByFilials"],endpoints:function(e){return{getAllByYear:e.mutation({query:function(e){return{url:"/getAllByYear?year=".concat(e),method:"GET"}},invalidatesTags:["RequestsByFilials"]}),getById:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["RequestsByFilials"]}),sendOnConfirm:e.mutation({query:function(e){return{url:"/sendOnConfirm?flightRequestId=".concat(e),method:"POST"}},invalidatesTags:["RequestsByFilials"]}),confirm:e.mutation({query:function(e){return{url:"/confirm?flightRequestId=".concat(e),method:"POST"}},invalidatesTags:["RequestsByFilials"]}),decline:e.mutation({query:function(e){return{url:"/decline?flightRequestId=".concat(e),method:"POST"}},invalidatesTags:["RequestsByFilials"]}),create:e.mutation({query:function(e){return{url:"/create",method:"POST",body:e}},invalidatesTags:["RequestsByFilials"]})}}}),g=Object(d.createApi)({reducerPath:"filialsAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/filial")}),tagTypes:["filials"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["filials"]}),get:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["filials"]})}}}),O=Object(d.createApi)({reducerPath:"workTypesAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/worktype")}),tagTypes:["workTypes"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["workTypes"]}),get:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["workTypes"]})}}}),h=Object(d.createApi)({reducerPath:"airportsAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/airport")}),tagTypes:["airports"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["airports"]}),get:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["airports"]})}}}),m=Object(d.createApi)({reducerPath:"employeeResponsibleAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/employeeResponsible")}),tagTypes:["employeeResponsible"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["employeeResponsible"]}),get:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["employeeResponsible"]})}}}),x=Object(d.createApi)({reducerPath:"flightFilialAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/flightFilial")}),tagTypes:["flightFilial"],endpoints:function(e){return{update:e.mutation({query:function(e){return{url:"/update",method:"PATCH",body:e}},invalidatesTags:["flightFilial"]}),create:e.mutation({query:function(e){return{url:"/create",method:"POST",body:e}},invalidatesTags:["flightFilial"]})}}}),y=Object(d.createApi)({reducerPath:"request",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/request")}),tagTypes:["Request"],endpoints:function(e){return{getAllByYear:e.mutation({query:function(e){return{url:"/getAllByYear?year=".concat(e),method:"GET"}},invalidatesTags:["Request"]}),getById:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["Request"]}),updateDate:e.mutation({query:function(e){return{url:"/update",method:"PUT",body:e}},invalidatesTags:["Request"]}),getHistory:e.mutation({query:function(e){return{url:"/getHistory?id=".concat(e),method:"GET"}},invalidatesTags:["Request"]}),createCost:e.mutation({query:function(e){return{url:"/createCost",method:"POST",body:e}},invalidatesTags:["Request"]}),updateCost:e.mutation({query:function(e){return{url:"/updateCost",method:"POST",body:e}},invalidatesTags:["Request"]}),getCosts:e.mutation({query:function(e){return{url:"/getCosts?id=".concat(e),method:"GET"}},invalidatesTags:["Request"]}),create:e.mutation({query:function(e){return{url:"/create",method:"POST",body:e}},invalidatesTags:["Request"]})}}}),v=Object(d.createApi)({reducerPath:"aircraftModelAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/aircraftModel")}),tagTypes:["aircraftModel"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["aircraftModel"]})}}}),S=Object(d.createApi)({reducerPath:"flightTargetAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/flightTarget")}),tagTypes:["flightTarget"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["flightTarget"]})}}}),w=Object(d.createApi)({reducerPath:"empCustomerAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/empCustomer")}),tagTypes:["empCustomer"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["empCustomer"]})}}}),T=Object(d.createApi)({reducerPath:"flightPlanAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/flightPlan")}),tagTypes:["flightPlan"],endpoints:function(e){return{update:e.mutation({query:function(e){return{url:"/update",method:"PATCH",body:e}},invalidatesTags:["flightPlan"]}),create:e.mutation({query:function(e){return{url:"/create",method:"POST",body:e}},invalidatesTags:["flightPlan"]}),delete:e.mutation({query:function(e){return{url:"/delete?id=".concat(e),method:"DELETE"}},invalidatesTags:["flightPlan"]})}}}),C=Object(d.createApi)({reducerPath:"fileStorageAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/file")}),tagTypes:["fileStorage"],endpoints:function(e){return{getAll:e.mutation({query:function(e){return{url:"/getFilesByRequest?id=".concat(e),method:"GET"}},invalidatesTags:["fileStorage"]})}}}),I=Object(d.createApi)({reducerPath:"requestHelicopter",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/requestHelicopter")}),tagTypes:["RequestHelicopter"],endpoints:function(e){return{getAllByYear:e.mutation({query:function(e){return{url:"/getAllByYear?year=".concat(e),method:"GET"}},invalidatesTags:["RequestHelicopter"]}),getById:e.mutation({query:function(e){return{url:"/get?id=".concat(e),method:"GET"}},invalidatesTags:["RequestHelicopter"]})}}}),k=Object(d.createApi)({reducerPath:"airlinesAPI",baseQuery:Object(d.fetchBaseQuery)({baseUrl:"".concat(f,"://").concat(j,":").concat(b,"/flight/api/airline")}),tagTypes:["airlines"],endpoints:function(e){return{getAll:e.mutation({query:function(){return{url:"/getAll",method:"GET"}},invalidatesTags:["airlines"]})}}}),D=Object(o.d)((a={userReducer:s},Object(c.a)(a,p.reducerPath,p.reducer),Object(c.a)(a,g.reducerPath,g.reducer),Object(c.a)(a,O.reducerPath,O.reducer),Object(c.a)(a,h.reducerPath,h.reducer),Object(c.a)(a,m.reducerPath,m.reducer),Object(c.a)(a,x.reducerPath,x.reducer),Object(c.a)(a,y.reducerPath,y.reducer),Object(c.a)(a,v.reducerPath,v.reducer),Object(c.a)(a,S.reducerPath,S.reducer),Object(c.a)(a,w.reducerPath,w.reducer),Object(c.a)(a,T.reducerPath,T.reducer),Object(c.a)(a,C.reducerPath,C.reducer),Object(c.a)(a,I.reducerPath,I.reducer),Object(c.a)(a,k.reducerPath,k.reducer),a)),A=n(201),F=n.n(A),E=n(19),z=n(83),M=n(17),q=n(7),P=n(3),L=n(245),W=n(248),G=n(250),R=n(204),B=n(64),N=n(246),Y=n(251),H=n(97),V=n(243),Q=n(98),U=n(249),J=n(253),K=n(254),_=n(255),X=n(256),Z=n(162),$=n(5),ee=[{label:"\u0417\u0430\u044f\u0432\u043a\u0438",key:"requests",children:[{label:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432",key:"requestTypeOne"},{label:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 \u0444\u0438\u043b\u0438\u0430\u043b\u044b",key:"requestTypeTwo"},{label:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 \u0432\u0435\u0440\u0442\u043e\u043b\u0435\u0442\u0430\u043c\u0438",key:"requestTypeThree"}]},{label:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",key:"plans"},{label:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",key:"docs"},{label:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438",key:"dicts"},{label:"\u041e\u0442\u0447\u0435\u0442\u044b",key:"reports"},{label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",key:"administration"},{label:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",key:"help"}],te=function(e){var t=Object(M.o)(),n=Object(i.useState)("requestTypeOne"),a=Object(P.a)(n,2),r=a[0],l=a[1];return Object($.jsx)(Z.a,{onClick:function(e){return l(e.key),"requestTypeOne"===e.key?t("/requestsFilials"):"requestTypeTwo"===e.key?t("/requests"):"requestTypeThree"===e.key?t("/requestsByHelicopter"):t("/cosmos")},selectedKeys:[r],mode:"horizontal",items:ee})},ne=function(e){return e.flexStart="flex-start",e.center="center",e.flexEnd="flex-end",e.spaceBetween="space-between",e.spaceAround="space-around",e.spaceEvenly="space-evenly",e}({}),ae=function(e){return e.flexStart="flex-start",e.center="center",e.flexEnd="flex-end",e}({}),ie=[2018,2019,2020,2021,2022,2023,2024,2025],re=n(66),le=n(239),ce=n(242),oe=n(247),ue=function(e){var t=Object(i.useState)((function(){return window.location.pathname.split("/")[2]})),n=Object(P.a)(t,1)[0],a=Object(i.useState)([]),r=Object(P.a)(a,2),l=r[0],c=r[1],o=Object(i.useState)([]),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)([]),b=Object(P.a)(j,2),f=b[0],p=b[1],y=Object(i.useState)(""),v=Object(P.a)(y,2),S=v[0],w=v[1],T=Object(i.useState)(""),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(""),R=Object(P.a)(W,2),B=R[0],Y=R[1],H=Object(i.useState)(0),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(0),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(0),ee=Object(P.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(0),ie=Object(P.a)(ae,2),re=ie[0],ue=ie[1],se=x.useCreateMutation(),de=Object(P.a)(se,2),je=de[0],be=de[1],fe=be.data,pe=(be.isLoading,be.isError,g.useGetAllMutation()),ge=Object(P.a)(pe,2),Oe=ge[0],he=ge[1],me=(he.data,he.isLoading,O.useGetAllMutation()),xe=Object(P.a)(me,2),ye=xe[0],ve=xe[1],Se=ve.data,we=(ve.isLoading,h.useGetAllMutation()),Te=Object(P.a)(we,2),Ce=Te[0],Ie=Te[1],ke=Ie.data,De=(Ie.isLoading,m.useGetAllMutation()),Ae=Object(P.a)(De,2),Fe=Ae[0],Ee=Ae[1],ze=Ee.data;Ee.isLoading;Object(i.useEffect)((function(){Oe(),ye(),Ce(),Fe()}),[]),Object(i.useEffect)((function(){ze&&c(ze.map((function(e){return{value:e.fio}})))}),[ze]),Object(i.useEffect)((function(){Se&&d(Se.map((function(e){return{value:e.name}})))}),[Se]),Object(i.useEffect)((function(){ke&&p(ke.map((function(e){return{value:e.name}})))}),[ke]),Object(i.useEffect)((function(){fe&&e.refresh(n)}),[fe]);var Me=function(){e.setVisible(!1),w(""),k(""),E(""),L(""),Y(""),U(0),X(0),ue(0),ne(0)},qe=function(e){return ke?ke.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u041d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){if(Se&&ze&&ke){var e=Se.find((function(e){return e.name===S})),t=ze.find((function(e){return e.fio===I})),a=ke.find((function(e){return e.name===B})),i=ke.find((function(e){return e.name===q}));void 0===e&&console.log("Not Finded"),void 0===t&&console.log("Not Finded"),void 0===i&&console.log("Not Finded"),void 0===a&&console.log("Not Finded"),null!==Q&&console.log("Pasc count "),null!==_&&console.log("Pasc count "),null!==re&&console.log("Pasc count "),null!==te&&console.log("Pasc count "),e&&a&&i&&t&&(Me(),je({idRequestFilial:n,idWorkType:e.id,flyDate:null===F||void 0===F?void 0:F.format("YYYY-MM-DD"),idAirportArrival:a.id,idAirportDeparture:i.id,idEmpResp:t.id,passengerCount:Q,cargoWeightIn:te,cargoWeightOut:re,cargoWeightMount:_}))}}()},onCancel:Me,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{value:S,size:"large",options:s,style:{width:"100%"},onSearch:function(e){return d((t=e,Se?Se.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return w(e)}}),Object($.jsx)(le.a,{value:I,size:"large",options:l,style:{width:"100%"},onSearch:function(e){return c((t=e,ze?ze.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return k(e)}}),Object($.jsx)(ce.a,{value:F,style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&E(e)},onOk:function(e){return E(e)}}),Object($.jsx)(le.a,{value:q,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(qe(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}}),Object($.jsx)(le.a,{value:B,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(qe(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return Y(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{value:Q,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{value:_,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{value:re,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ue(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{value:te,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ne(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},se=n(46),de=n.n(se),je=function(e){console.log(e.rowData);var t=Object(i.useState)((function(){return window.location.pathname.split("/")[2]})),n=Object(P.a)(t,1)[0],a=Object(i.useState)([]),r=Object(P.a)(a,2),l=r[0],c=r[1],o=Object(i.useState)([]),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)([]),b=Object(P.a)(j,2),f=b[0],p=b[1],y=Object(i.useState)(e.rowData.workType),v=Object(P.a)(y,2),S=v[0],w=v[1],T=Object(i.useState)(e.rowData.employee),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(""),R=Object(P.a)(W,2),B=R[0],Y=R[1],H=Object(i.useState)(-1),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(-1),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(-1),ee=Object(P.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(-1),ie=Object(P.a)(ae,2),re=ie[0],ue=ie[1],se=x.useUpdateMutation(),je=Object(P.a)(se,2),be=je[0],fe=je[1],pe=fe.data,ge=(fe.isLoading,fe.isError,g.useGetAllMutation()),Oe=Object(P.a)(ge,2),he=Oe[0],me=Oe[1],xe=(me.data,me.isLoading,O.useGetAllMutation()),ye=Object(P.a)(xe,2),ve=ye[0],Se=ye[1],we=Se.data,Te=(Se.isLoading,h.useGetAllMutation()),Ce=Object(P.a)(Te,2),Ie=Ce[0],ke=Ce[1],De=ke.data,Ae=(ke.isLoading,m.useGetAllMutation()),Fe=Object(P.a)(Ae,2),Ee=Fe[0],ze=Fe[1],Me=ze.data;ze.isLoading;Object(i.useEffect)((function(){L(e.rowData.airportDeparture),Y(e.rowData.airportArrival),U(e.rowData.passengerCount),X(e.rowData.cargoWeightMount),ne(e.rowData.cargoWeightIn),ue(e.rowData.cargoWeightOut),E(e.rowData.dateTime),he(),ve(),Ie(),Ee()}),[]),Object(i.useEffect)((function(){Me&&c(Me.map((function(e){return{value:e.fio}})))}),[Me]),Object(i.useEffect)((function(){we&&d(we.map((function(e){return{value:e.name}})))}),[we]),Object(i.useEffect)((function(){De&&p(De.map((function(e){return{value:e.name}})))}),[De]),Object(i.useEffect)((function(){pe&&(e.refresh(n),qe())}),[pe]);var qe=function(){e.setVisible(!1),e.setRowData(null),w(""),k(""),E(""),L(""),Y(""),U(-1),X(-1),ue(-1),ne(-1)},Pe=function(e){return De?De.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){var t,n,a,i=null===De||void 0===De||null===(t=De.find((function(e){return e.name===B})))||void 0===t?void 0:t.id,r=null===De||void 0===De||null===(n=De.find((function(e){return e.name===q})))||void 0===n?void 0:n.id,l=null===we||void 0===we||null===(a=we.find((function(e){return e.name===S})))||void 0===a?void 0:a.id,c=null===Me||void 0===Me?void 0:Me.find((function(e){return e.fio===I}));void 0===c&&console.log("Not Finded"),i&&r&&l&&be({id:e.rowData.id,idWorkType:l,idEmpResp:null===c||void 0===c?void 0:c.id,idRoute:e.rowData.routeId,flyDate:F,idAirportArrival:i,idAirportDeparture:r,passengerCount:Q,cargoWeightIn:te,cargoWeightOut:re,cargoWeightMount:_})}()},onCancel:qe,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{value:S,size:"large",options:s,style:{width:"100%"},onSearch:function(e){return d((t=e,we?we.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return w(e)}}),Object($.jsx)(le.a,{value:I,size:"large",options:l,style:{width:"100%"},onSearch:function(e){return c((t=e,Me?Me.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return k(e)}}),Object($.jsx)(ce.a,{defaultValue:de()("2015/01/01",F),style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&E(e)},onOk:function(e){return E(e)}}),Object($.jsx)(le.a,{value:q,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Pe(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}}),Object($.jsx)(le.a,{value:B,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Pe(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return Y(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{value:Q,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{value:_,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{value:re,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ue(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{value:te,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ne(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},be=L.a.Text,fe=function(){var e=Object(i.useState)(""),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(P.a)(r,2),c=(l[0],l[1]),o=Object(i.useState)(""),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)(null),b=Object(P.a)(j,2),f=b[0],O=b[1],h=Object(i.useState)(null),m=Object(P.a)(h,2),x=m[0],y=m[1],v=Object(i.useState)(!1),S=Object(P.a)(v,2),w=S[0],T=S[1],C=Object(i.useState)([]),I=Object(P.a)(C,2),k=I[0],D=I[1],A=Object(i.useState)(null),F=Object(P.a)(A,2),E=F[0],z=F[1],L=Object(i.useState)(!1),Z=Object(P.a)(L,2),ee=Z[0],ie=Z[1],le=Object(i.useState)(!1),ce=Object(P.a)(le,2),oe=ce[0],se=ce[1],de=Object(i.useRef)(null),fe=et.create("Ext.data.Store",{data:k,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),pe=Object(M.o)(),ge=Object(M.m)(),Oe={maxCount:1,customRequest:function(e){var t=new FormData;t.append("fileName",e.file.name),t.append("idRequestFilial",n),t.append("fileBody",e.file),T(!0),fetch("http://localhost:8080/flight/api/file/create",{method:"POST",body:t}).then((function(e){return e.text()})).then((function(t){y([{uid:e.file.uid,id:JSON.parse(t).id,name:e.file.name,status:"done",url:"http://localhost:8080/flight/api/file/get?id=".concat(JSON.parse(t).id),percent:100}]),W.a.success("\u0424\u0430\u0439\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")})).catch((function(e){W.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")})).finally((function(){T(!1)}))},beforeUpload:function(e){return!0},onRemove:function(e){fetch("http://localhost:8080/flight/api/file/delete?id=".concat(f),{method:"DELETE",redirect:"follow"}).then((function(e){})).then((function(e){W.a.error("\u0424\u0430\u0439\u043b \u0443\u0434\u0430\u043b\u0435\u043d"),y([])})).catch((function(e){W.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430"),console.log("error",e)}))},fileList:x},he=p.useGetByIdMutation(),me=Object(P.a)(he,2),xe=me[0],ye=me[1],ve=ye.data,Se=(ye.isLoading,p.useSendOnConfirmMutation()),we=Object(P.a)(Se,2),Te=we[0],Ce=we[1],Ie=Ce.data,ke=(Ce.isLoading,p.useConfirmMutation()),De=Object(P.a)(ke,2),Ae=De[0],Fe=De[1],Ee=Fe.data,ze=(Fe.isLoading,p.useDeclineMutation()),Me=Object(P.a)(ze,2),qe=Me[0],Pe=Me[1],Le=Pe.data,We=(Pe.isLoading,g.useGetAllMutation()),Ge=Object(P.a)(We,2),Re=Ge[0],Be=Ge[1],Ne=Be.data,Ye=Be.isLoading;Object(i.useEffect)((function(){Re(),xe(ge.pathname.split("/")[2])}),[]),Object(i.useEffect)((function(){ve&&(ve.idRequestFile&&y([{uid:"".concat(ve.idRequestFile),name:"".concat(ve.nameRequestFile),status:"done",url:"http://localhost:8080/flight/api/file/get?id=".concat(ve.idRequestFile),percent:100}]),a(ve.id),d(ve.idFilial),c(ve.idState),O(ve.idRequestFile),D(null===ve||void 0===ve?void 0:ve.routes.map((function(e){return{dateTime:e.dateTime,cargoWeightOut:e.cargoWeightOut,cargoWeightMount:e.cargoWeightMount,routeId:e.routeId,passengerCount:e.passengerCount,workType:e.workType,airportDeparture:e.airportDeparture,cargoWeightIn:e.cargoWeightIn,id:e.id,employee:e.employee,airportArrival:e.airportArrival}}))))}),[ve]),Object(i.useEffect)((function(){null!==E&&se(!0)}),[E]),Object(i.useEffect)((function(){(Ie||Ee||Le)&&xe(n)}),[Ie,Ee,Le]),Object(i.useEffect)((function(){var e,t,n,a;k.length>0&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll())}),[k]),Object(i.useEffect)((function(){var e,t,n,a;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll()}),[ee,oe]);var He=function(){Te(n)},Ve=function(){Ae(n)},Qe=function(){qe(n)};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ue,{visible:ee,setVisible:ie,refresh:xe}),E&&Object($.jsx)(je,{visible:oe,setVisible:se,refresh:xe,rowData:E,setRowData:z}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),void 0===Ne||void 0===ve?Object($.jsx)(G.a,{style:{height:window.innerHeight},justify:ne.center,align:ae.center,children:Object($.jsx)(R.a,{size:"large"})}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{justify:ne.flexStart,children:[Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsxs)(G.a,{gap:"middle",style:{margin:"0 0 7px 0"},children:[Object($.jsx)(B.a,{size:"large",onClick:function(){return pe("/requestsFilials")},icon:Object($.jsx)(J.a,{})}),Object($.jsx)(B.a,{size:"large",icon:Object($.jsx)(K.a,{})}),Object($.jsx)(B.a,{size:"large",onClick:function(){xe(n)},icon:Object($.jsx)(_.a,{})})]}),Object($.jsxs)(be,{children:["\u041a\u043e\u0434 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:n})]}),Object($.jsx)(be,{children:Object($.jsx)("strong",{children:ve.nameState})}),"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"===ve.nameState&&Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onOk:He,content:"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0421\u041e\u041f?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435"}),"\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438"===ve.nameState&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",onOk:Ve,content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c",onOk:Qe,content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]}),Object($.jsx)(Y.a,{type:"vertical",style:{height:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"===ve.nameState?160:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===ve.nameState||"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e"===ve.nameState?120:200}}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(H.a,{disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===ve.nameState,size:"middle",placeholder:"\u0424\u0438\u043b\u0438\u0430\u043b",loading:Ye,value:s.toString(),style:{width:330},options:Ne.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e){return d(e)}}),Object($.jsx)(V.a,Object(q.a)(Object(q.a)({},Oe),{},{children:Object($.jsx)(B.a,{disabled:w||"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===ve.nameState,size:"middle",style:{width:330},icon:Object($.jsx)(X.a,{}),children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u043e\u043b\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0438"})})),!(null!==ve&&void 0!==ve&&ve.idRequestFile)&&null===x&&Object($.jsx)(Q.a,{image:Q.a.PRESENTED_IMAGE_SIMPLE,description:!1,style:{height:25}})]})]}),Object($.jsx)(U.a,{defaultActiveKey:["0"],items:[{key:"0",label:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0 0 15px 0"},children:Object($.jsx)(B.a,{disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===ve.nameState,size:"middle",style:{width:152},onClick:function(){return ie(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,ref:de,style:{height:window.innerHeight-325},store:fe,columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"!==ve.nameState&&z(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})}]})]})]})]})},pe=n(69),ge=n(252),Oe=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)([]),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)([]),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(""),p=Object(P.a)(f,2),g=p[0],x=p[1],y=Object(i.useState)(""),v=Object(P.a)(y,2),S=v[0],w=v[1],T=Object(i.useState)(""),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(-1),R=Object(P.a)(W,2),B=R[0],Y=R[1],H=Object(i.useState)(-1),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(-1),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(-1),ee=Object(P.a)(Z,2),te=ee[0],ne=ee[1],ae=O.useGetAllMutation(),ie=Object(P.a)(ae,2),re=ie[0],ue=ie[1],se=ue.data,de=(ue.isLoading,h.useGetAllMutation()),je=Object(P.a)(de,2),be=je[0],fe=je[1],pe=fe.data,ge=(fe.isLoading,m.useGetAllMutation()),Oe=Object(P.a)(ge,2),he=Oe[0],me=Oe[1],xe=me.data;me.isLoading;Object(i.useEffect)((function(){re(),be(),he()}),[]),Object(i.useEffect)((function(){xe&&r(xe.map((function(e){return{value:e.fio}})))}),[xe]),Object(i.useEffect)((function(){se&&u(se.map((function(e){return{value:e.name}})))}),[se]),Object(i.useEffect)((function(){pe&&b(pe.map((function(e){return{value:e.name}})))}),[pe]);var ye=function(){e.setVisible(!1),x(""),w(""),k(""),E(""),L(""),Y(-1),U(-1),ne(-1),X(-1)},ve=function(e){return pe?pe.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u041d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){if(se&&xe&&pe){var t=se.find((function(e){return e.name===g})),n=xe.find((function(e){return e.fio===S})),a=pe.find((function(e){return e.name===q})),i=pe.find((function(e){return e.name===F}));void 0===t&&console.log("Not Finded"),void 0===n&&console.log("Not Finded"),void 0===i&&console.log("Not Finded"),void 0===a&&console.log("Not Finded"),null!==B&&console.log("Pasc count "),null!==Q&&console.log("Pasc count "),null!==te&&console.log("Pasc count "),null!==_&&console.log("Pasc count "),t&&a&&i&&n&&(e.setGridData((function(e){var r={id:"",routeId:"",workType:g,workTypeId:null===t||void 0===t?void 0:t.id,employee:S,employeeId:null===n||void 0===n?void 0:n.id,dateTime:null===I||void 0===I?void 0:I.format("YYYY-MM-DD"),airportDeparture:F,airportDepartureId:null===i||void 0===i?void 0:i.id,airportArrival:q,airportArrivalId:null===a||void 0===a?void 0:a.id,passengerCount:B.toString(),cargoWeightMount:Q.toString(),cargoWeightIn:_.toString(),cargoWeightOut:te.toString()};return e.concat(r)})),ye())}}()},onCancel:ye,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{size:"large",options:o,style:{width:"100%"},onSearch:function(e){return u((t=e,se?se.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return x(e)}}),Object($.jsx)(le.a,{size:"large",options:a,style:{width:"100%"},onSearch:function(e){return r((t=e,xe?xe.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return w(e)}}),Object($.jsx)(ce.a,{style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&k(e)},onOk:function(e){return k(e)}}),Object($.jsx)(le.a,{size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(ve(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return E(e)}}),Object($.jsx)(le.a,{size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(ve(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&Y(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ne(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},he=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)([]),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)([]),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(e.rowData.workType),p=Object(P.a)(f,2),g=p[0],x=p[1],y=Object(i.useState)(e.rowData.employee),v=Object(P.a)(y,2),S=v[0],w=v[1],T=Object(i.useState)(""),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(-1),R=Object(P.a)(W,2),B=R[0],Y=R[1],H=Object(i.useState)(-1),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(-1),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(-1),ee=Object(P.a)(Z,2),te=ee[0],ne=ee[1],ae=O.useGetAllMutation(),ie=Object(P.a)(ae,2),re=ie[0],ue=ie[1],se=ue.data,je=(ue.isLoading,h.useGetAllMutation()),be=Object(P.a)(je,2),fe=be[0],pe=be[1],ge=pe.data,Oe=(pe.isLoading,m.useGetAllMutation()),he=Object(P.a)(Oe,2),me=he[0],xe=he[1],ye=xe.data;xe.isLoading;Object(i.useEffect)((function(){E(e.rowData.airportDeparture),L(e.rowData.airportArrival),Y(e.rowData.passengerCount),U(e.rowData.cargoWeightMount),X(e.rowData.cargoWeightIn),ne(e.rowData.cargoWeightOut),k(e.rowData.dateTime),re(),fe(),me()}),[]),Object(i.useEffect)((function(){ye&&r(ye.map((function(e){return{value:e.fio}})))}),[ye]),Object(i.useEffect)((function(){se&&u(se.map((function(e){return{value:e.name}})))}),[se]),Object(i.useEffect)((function(){ge&&b(ge.map((function(e){return{value:e.name}})))}),[ge]);var ve=function(){e.setVisible(!1),e.setRowData(null),x(""),w(""),k(""),E(""),L(""),Y(0),U(0),ne(0),X(0)},Se=function(e){return ge?ge.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){var t,n,a,i=null===ge||void 0===ge||null===(t=ge.find((function(e){return e.name===q})))||void 0===t?void 0:t.id,r=null===ge||void 0===ge||null===(n=ge.find((function(e){return e.name===F})))||void 0===n?void 0:n.id,l=null===se||void 0===se||null===(a=se.find((function(e){return e.name===g})))||void 0===a?void 0:a.id;i&&r&&l&&e.setGridData((function(t){return JSON.parse(JSON.stringify(t)).map((function(t){return t.id===e.rowData.id&&(t.workType=g,t.employee=S,t.dateTime=I,t.airportDeparture=F,t.airportArrival=q,t.passengerCount=B.toString(),t.cargoWeightMount=Q.toString(),t.cargoWeightIn=_.toString(),t.cargoWeightOut=te.toString()),t}))})),ve()}()},onCancel:ve,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{value:g,size:"large",options:o,style:{width:"100%"},onSearch:function(e){return u((t=e,se?se.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return x(e)}}),Object($.jsx)(le.a,{value:S,size:"large",options:a,style:{width:"100%"},onSearch:function(e){return r((t=e,ye?ye.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return w(e)}}),Object($.jsx)(ce.a,{value:de()("2015/01/01",I),style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&k(e)},onOk:function(e){return k(e)}}),Object($.jsx)(le.a,{value:F,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Se(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return E(e)}}),Object($.jsx)(le.a,{value:q,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Se(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{value:B,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&Y(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{value:Q,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{value:te,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ne(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{value:_,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},me=L.a.Text,xe=function(){var e=W.a.useMessage(),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(P.a)(r,2),c=l[0],o=l[1],u=Object(i.useState)(null),s=Object(P.a)(u,2),d=s[0],j=s[1],b=Object(i.useState)([]),f=Object(P.a)(b,2),O=f[0],h=f[1],m=Object(i.useState)(null),x=Object(P.a)(m,2),y=x[0],v=x[1],S=Object(i.useState)(!1),w=Object(P.a)(S,2),T=w[0],C=w[1],I=Object(i.useState)(!1),k=Object(P.a)(I,2),D=k[0],A=k[1],F=et.create("Ext.data.Store",{data:O,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),E=Object(M.o)(),z={maxCount:1,customRequest:function(e){j([e.file])},onRemove:function(){j([])},fileList:d},L=g.useGetAllMutation(),Q=Object(P.a)(L,2),K=Q[0],_=Q[1],Z=_.data,ee=_.isLoading,ie=p.useCreateMutation(),le=Object(P.a)(ie,2),ce=le[0],oe=le[1],ue=oe.data,se=oe.isLoading;Object(i.useEffect)((function(){K()}),[]),Object(i.useEffect)((function(){null!==y&&A(!0)}),[y]),Object(i.useEffect)((function(){var e,t,n,a;O.length>0&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll())}),[O]),Object(i.useEffect)((function(){var e,t,n,a;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll()}),[T,D]),Object(i.useEffect)((function(){if(ue){if(d){var e=new FormData;e.append("fileName",d[0].name),e.append("idRequestFilial",ue.id),e.append("fileBody",d[0]),fetch("http://localhost:8080/flight/api/file/create",{method:"POST",body:e}).then((function(e){return e.text()})).then((function(e){})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")}))}return E("/requestsFilials/".concat(ue.id))}}),[ue]);return Object($.jsxs)($.Fragment,{children:[a,Object($.jsx)(Oe,{visible:T,setVisible:C,setGridData:h}),y&&Object($.jsx)(he,{visible:D,setVisible:A,setGridData:h,rowData:y,setRowData:v}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),void 0===Z||se?Object($.jsx)(G.a,{style:{height:window.innerHeight},justify:ne.center,align:ae.center,children:Object($.jsx)(R.a,{size:"large"})}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{justify:ne.flexStart,children:[Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsxs)(G.a,{gap:"middle",style:{margin:"0 0 7px 0"},children:[Object($.jsx)(pe.a,{placement:"bottomRight",title:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u043c\u0435\u043d\u044e",children:Object($.jsx)(B.a,{size:"large",onClick:function(){N.a.confirm({onOk:function(){return E("/requestsFilials")},okText:"\u0414\u0430",title:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u043c\u0435\u043d\u044e?",content:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0435\u0441\u043b\u0438 \u0432\u044b \u0440\u0435\u0448\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0435\u0435.",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},icon:Object($.jsx)(J.a,{})})}),Object($.jsx)(pe.a,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",placement:"right",children:Object($.jsx)(B.a,{type:"primary",ghost:!0,size:"large",onClick:function(){if(c){var e={idRequestFilial:null===ue||void 0===ue?void 0:ue.id,idFilial:c,routes:O};ce(e)}else n.warning("\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0444\u0438\u043b\u0438\u0430\u043b")},icon:Object($.jsx)(ge.a,{})})})]}),Object($.jsxs)(me,{children:["\u041a\u043e\u0434 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:"N/A"})]}),Object($.jsx)(me,{children:Object($.jsx)("strong",{children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f"})})]}),Object($.jsx)(Y.a,{type:"vertical",style:{height:120}}),Object($.jsxs)(G.a,{style:{margin:"0 0 0 10px"},gap:"small",vertical:!0,children:[Object($.jsx)(H.a,{size:"middle",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u0438\u0430\u043b",loading:ee,style:{width:330},options:Z.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e){return o(e)}}),Object($.jsx)(V.a,Object(q.a)(Object(q.a)({},z),{},{children:Object($.jsx)(B.a,{size:"middle",style:{width:330},icon:Object($.jsx)(X.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u043e\u043b\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u044f\u0432\u043a\u0438"})}))]})]}),Object($.jsx)(U.a,{defaultActiveKey:["0"],items:[{key:"0",label:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0 0 15px 0"},children:Object($.jsx)(B.a,{size:"middle",style:{width:152},onClick:function(){return C(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,style:{height:window.innerHeight-325},store:F,columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){v(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})}]})]})]})]})},ye=(n(174),L.a.Text),ve=function(){var e=Object(M.o)(),t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=y.useGetAllByYearMutation(),c=Object(P.a)(l,2),o=c[0],u=c[1],s=u.data,d=u.isLoading,j=Object(i.useState)(2023),b=Object(P.a)(j,2),f=b[0],p=b[1];Object(i.useEffect)((function(){o(f)}),[]),Object(i.useEffect)((function(){s&&r(s)}),[s]);var g=et.create("Ext.data.Store",{data:a,groupers:[],fields:[{name:"id",type:"int"},{name:"createDate",type:"date",dateFormat:"c"},{name:"filial",type:"string"},{name:"nameState",type:"string"}]});return Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),Object($.jsx)(G.a,{style:{margin:"0 0 0 8px"},gap:"small",justify:ne.center,children:Object($.jsx)(ye,{style:{fontSize:22,fontWeight:500},children:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 \u0444\u0438\u043b\u0438\u0430\u043b\u044b"})}),Object($.jsxs)(G.a,{style:{margin:"0 5px 0 5px"},gap:"small",vertical:!1,justify:ne.spaceBetween,children:[Object($.jsx)(B.a,{onClick:function(){return e("create")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object($.jsx)(H.a,{disabled:d,value:f,onChange:function(e){p(e),o(e)},options:ie.map((function(e){return{value:e,label:e.toString()}}))})]}),Object($.jsx)("div",{style:{height:window.innerHeight},children:et.isDomReady&&Object($.jsx)(re.a,{style:{height:"100%"},store:g,columnLines:!0,grouped:!0,shadow:!1,groupHeaderTpl:"{name} ({group.length})",summaryPosition:"docked",onChilddoubletap:function(t){var n=t.location.record.data.id;return e("".concat(n))},columns:[{text:"\u041a\u043e\u0434",dataIndex:"id",groupable:!0,filterType:"string",flex:1},{text:"\u0422\u0438\u043f \u0430\u0432\u0438\u0430\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",dataIndex:"aircraftTypeName",groupable:!0,filterType:"string",flex:1},{text:"\u041d\u043e\u043c\u0435\u0440",dataIndex:"docNum",groupable:!0,filterType:"string",flex:1},{text:"\u0414\u0430\u0442\u0430 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"flyDateStart",groupable:!0,filterType:"string",flex:1},{text:"\u041c\u043e\u0434\u0435\u043b\u044c \u0412\u0421",dataIndex:"aircraftModelName",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",dataIndex:"airlineName",groupable:!0,filterType:"string",flex:1},{text:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440",dataIndex:"docName",groupable:!0,filterType:"string",flex:1},{text:"\u0426\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430",dataIndex:"flightTargetName",groupable:!0,filterType:"string",flex:1},{text:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",dataIndex:"stateName",groupable:!0,filterType:"string",flex:1},{text:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",dataIndex:"note",groupable:!0,filterType:"string",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0}}}})})]})},Se=L.a.Text,we=function(){var e=Object(M.o)(),t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=p.useGetAllByYearMutation(),c=Object(P.a)(l,2),o=c[0],u=c[1],s=u.data,d=u.isLoading,j=Object(i.useState)(2023),b=Object(P.a)(j,2),f=b[0],g=b[1];Object(i.useEffect)((function(){o(f)}),[]),Object(i.useEffect)((function(){s&&r(s)}),[s]);var O=et.create("Ext.data.Store",{data:a,groupers:[],fields:[{name:"id",type:"int"},{name:"createDate",type:"date",dateFormat:"c"},{name:"filial",type:"string"},{name:"nameState",type:"string"}]});return Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),Object($.jsx)(G.a,{justify:ne.center,children:Object($.jsx)(Se,{style:{fontSize:22,fontWeight:500},children:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432"})}),Object($.jsxs)(G.a,{style:{margin:"0 5px 0 5px"},gap:"small",justify:ne.spaceBetween,children:[Object($.jsx)(B.a,{onClick:function(){return e("create")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object($.jsx)(H.a,{disabled:d,value:f,onChange:function(e){g(e),o(e)},options:ie.map((function(e){return{value:e,label:e.toString()}}))})]}),Object($.jsx)("div",{style:{height:window.innerHeight},children:et.isDomReady&&Object($.jsx)(re.a,{style:{height:"100%"},store:O,columnLines:!0,grouped:!0,shadow:!1,groupHeaderTpl:"{name} ({group.length})",summaryPosition:"docked",onChilddoubletap:function(t){var n=t.location.record.data.id;return e("".concat(n))},columns:[{text:"\u0418\u0414",dataIndex:"id",groupable:!0,filterType:"string",width:200},{text:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",dataIndex:"createDate",groupable:!0,filterType:"list",width:300},{text:"\u0424\u0438\u043b\u0438\u0430\u043b",dataIndex:"nameFilial",groupable:!0,summary:"count",width:300},{text:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",dataIndex:"nameState",groupable:!0,summary:"count",width:300}],platformConfig:{desktop:{plugins:{groupingpanel:!0}}}})})]})},Te=n(104),Ce=n(244),Ie=n(257),ke=V.a.Dragger,De=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l={maxCount:1,customRequest:function(t){var n=new FormData;n.append("fileName",t.file.name),n.append("idRequest",e.requestId),n.append("fileBody",t.file),fetch("http://localhost:8080/flight/api/file/addToRequest",{method:"POST",body:n}).then((function(e){return e.text()})).then((function(e){r((function(n){return n.concat({uid:t.file.uid,id:e,name:t.file.name,status:"done",url:"http://localhost:8080/flight/api/file/get?id=".concat(e),percent:100})})),W.a.success("\u0424\u0430\u0439\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d")})).catch((function(e){W.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")})).finally((function(){}))},beforeUpload:function(e){return!0},onRemove:function(e){fetch("http://localhost:8080/flight/api/file/delete?id=".concat(e.id),{method:"DELETE",redirect:"follow"}).then((function(e){})).then((function(t){W.a.error("\u0424\u0430\u0439\u043b \u0443\u0434\u0430\u043b\u0435\u043d"),r((function(t){return t.filter((function(t){return t.id!==e.id}))}))})).catch((function(e){W.a.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430"),console.log("error",e)}))},fileList:a},c=C.useGetAllMutation(),o=Object(P.a)(c,2),u=o[0],s=o[1],d=s.data;s.isLoading;return Object(i.useEffect)((function(){console.log(e),u(e.requestId)}),[]),Object(i.useEffect)((function(){d&&r(d)}),[d]),Object($.jsx)(ke,Object(q.a)(Object(q.a)({},l),{},{children:Object($.jsx)("p",{style:{padding:"0 10px 0 10px"},className:"ant-upload-text",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432 \u044d\u0442\u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})}))},Ae=function(e){var t=Object(i.useState)((function(){return window.location.pathname.split("/")[2]})),n=Object(P.a)(t,1)[0],a=Object(i.useState)([]),r=Object(P.a)(a,2),l=r[0],c=r[1],o=Object(i.useState)([]),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)([]),b=Object(P.a)(j,2),f=b[0],p=b[1],g=Object(i.useState)(e.rowData.workType),x=Object(P.a)(g,2),y=x[0],v=x[1],S=Object(i.useState)(e.rowData.employee),w=Object(P.a)(S,2),C=w[0],I=w[1],k=Object(i.useState)(""),D=Object(P.a)(k,2),A=D[0],F=D[1],E=Object(i.useState)(""),z=Object(P.a)(E,2),M=z[0],q=z[1],L=Object(i.useState)(""),W=Object(P.a)(L,2),R=W[0],Y=W[1],H=Object(i.useState)(-1),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(-1),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(-1),ee=Object(P.a)(Z,2),te=ee[0],ae=ee[1],ie=Object(i.useState)(-1),re=Object(P.a)(ie,2),ue=re[0],se=re[1],je=T.useUpdateMutation(),be=Object(P.a)(je,2),fe=be[0],pe=be[1].data,ge=O.useGetAllMutation(),Oe=Object(P.a)(ge,2),he=Oe[0],me=Oe[1],xe=me.data,ye=(me.isLoading,h.useGetAllMutation()),ve=Object(P.a)(ye,2),Se=ve[0],we=ve[1],Te=we.data,Ie=(we.isLoading,m.useGetAllMutation()),ke=Object(P.a)(Ie,2),De=ke[0],Ae=ke[1],Fe=Ae.data,Ee=(Ae.isLoading,T.useDeleteMutation()),ze=Object(P.a)(Ee,2),Me=ze[0],qe=ze[1],Pe=qe.data;qe.isLoading;Object(i.useEffect)((function(){q(e.rowData.airportDeparture),Y(e.rowData.airportArrival),U(e.rowData.passengerCount),X(e.rowData.cargoWeightMount),ae(e.rowData.cargoWeightIn),se(e.rowData.cargoWeightOut),F(e.rowData.dateTime),he(),Se(),De()}),[]),Object(i.useEffect)((function(){Fe&&c(Fe.map((function(e){return{value:e.fio}})))}),[Fe]),Object(i.useEffect)((function(){xe&&d(xe.map((function(e){return{value:e.name}})))}),[xe]),Object(i.useEffect)((function(){Te&&p(Te.map((function(e){return{value:e.name}})))}),[Te]),Object(i.useEffect)((function(){pe&&(e.refresh(n),We())}),[pe]),Object(i.useEffect)((function(){Pe&&(e.refresh(n),We())}),[Pe]);var Le=function(){var t,n,a,i=null===Te||void 0===Te||null===(t=Te.find((function(e){return e.name===R})))||void 0===t?void 0:t.id,r=null===Te||void 0===Te||null===(n=Te.find((function(e){return e.name===M})))||void 0===n?void 0:n.id,l=null===xe||void 0===xe||null===(a=xe.find((function(e){return e.name===y})))||void 0===a?void 0:a.id,c=null===Fe||void 0===Fe?void 0:Fe.find((function(e){return e.fio===C}));void 0===c&&console.log("Not Finded"),i&&r&&l&&fe({id:e.rowData.id,idWorkType:l,idEmpResp:null===c||void 0===c?void 0:c.id,idRoute:e.rowData.routeId,flyDate:A,idAirportArrival:i,idAirportDeparture:r,passengerCount:Q,cargoWeightIn:te,cargoWeightOut:ue,cargoWeightMount:_,idFuelPoint:"",idRequest:""})},We=function(){e.setVisible(!1),e.setRowData(null),v(""),I(""),F(""),q(""),Y(""),U(-1),X(-1),se(-1),ae(-1)},Ge=function(){N.a.confirm({onOk:function(){return Me(e.rowData.id)},title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},Re=function(e){return Te?Te.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return Le()},onCancel:We,width:740,footer:function(){return Object($.jsxs)(G.a,{justify:ne.flexEnd,gap:"small",children:[Object($.jsx)(B.a,{danger:!0,onClick:Ge,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object($.jsx)(B.a,{onClick:We,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object($.jsx)(B.a,{type:"primary",onClick:Le,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},children:Object($.jsx)(Ce.a,{style:{maxWidth:1200},layout:"vertical",children:Object($.jsxs)(G.a,{gap:"middle",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(Ce.a.Item,{label:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",children:Object($.jsx)(le.a,{value:y,size:"large",options:s,style:{width:"100%"},onSearch:function(e){return d((t=e,xe?xe.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return v(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043b\u0438\u0446\u043e",children:Object($.jsx)(le.a,{value:C,size:"large",options:l,style:{width:"100%"},onSearch:function(e){return c((t=e,Fe?Fe.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return I(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",children:Object($.jsx)(ce.a,{defaultValue:de()("2015/01/01",A),style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&F(e)},onOk:function(e){return F(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",children:Object($.jsx)(le.a,{value:M,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Re(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return q(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",children:Object($.jsx)(le.a,{value:R,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Re(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return Y(e)}})})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(Ce.a.Item,{label:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",children:Object($.jsx)(le.a,{value:R,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Re(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",notFoundContent:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",onSelect:function(e,t){return Y(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",children:Object($.jsx)(oe.a,{value:Q,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"})}),Object($.jsx)(Ce.a.Item,{label:"\u041e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430",children:Object($.jsx)(oe.a,{value:_,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435",children:Object($.jsx)(oe.a,{value:ue,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&se(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430",children:Object($.jsx)(oe.a,{value:te,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ae(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})})]})]})})})},Fe=function(e){var t=Object(i.useState)((function(){return window.location.pathname.split("/")[2]})),n=Object(P.a)(t,1)[0],a=Object(i.useState)([]),r=Object(P.a)(a,2),l=r[0],c=r[1],o=Object(i.useState)([]),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)([]),b=Object(P.a)(j,2),f=b[0],p=b[1],x=Object(i.useState)(""),y=Object(P.a)(x,2),v=y[0],S=y[1],w=Object(i.useState)(""),C=Object(P.a)(w,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(""),R=Object(P.a)(W,2),B=R[0],Y=R[1],H=Object(i.useState)(0),V=Object(P.a)(H,2),Q=V[0],U=V[1],J=Object(i.useState)(0),K=Object(P.a)(J,2),_=K[0],X=K[1],Z=Object(i.useState)(0),ee=Object(P.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(0),ie=Object(P.a)(ae,2),re=ie[0],ue=ie[1],se=T.useCreateMutation(),de=Object(P.a)(se,2),je=de[0],be=de[1].data,fe=g.useGetAllMutation(),pe=Object(P.a)(fe,2),ge=pe[0],Oe=pe[1],he=(Oe.data,Oe.isLoading,O.useGetAllMutation()),me=Object(P.a)(he,2),xe=me[0],ye=me[1],ve=ye.data,Se=(ye.isLoading,h.useGetAllMutation()),we=Object(P.a)(Se,2),Te=we[0],Ce=we[1],Ie=Ce.data,ke=(Ce.isLoading,m.useGetAllMutation()),De=Object(P.a)(ke,2),Ae=De[0],Fe=De[1],Ee=Fe.data;Fe.isLoading;Object(i.useEffect)((function(){ge(),xe(),Te(),Ae()}),[]),Object(i.useEffect)((function(){Ee&&c(Ee.map((function(e){return{value:e.fio}})))}),[Ee]),Object(i.useEffect)((function(){ve&&d(ve.map((function(e){return{value:e.name}})))}),[ve]),Object(i.useEffect)((function(){Ie&&p(Ie.map((function(e){return{value:e.name}})))}),[Ie]),Object(i.useEffect)((function(){be&&e.refresh(n)}),[be]);var ze=function(){e.setVisible(!1),S(""),k(""),E(""),L(""),Y(""),U(0),X(0),ue(0),ne(0)},Me=function(e){return Ie?Ie.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u041d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){if(ve&&Ee&&Ie){var e=ve.find((function(e){return e.name===v})),t=Ee.find((function(e){return e.fio===I})),a=Ie.find((function(e){return e.name===B})),i=Ie.find((function(e){return e.name===q}));void 0===e&&console.log("Not Finded"),void 0===t&&console.log("Not Finded"),void 0===i&&console.log("Not Finded"),void 0===a&&console.log("Not Finded"),null!==Q&&console.log("Pasc count "),null!==_&&console.log("Pasc count "),null!==re&&console.log("Pasc count "),null!==te&&console.log("Pasc count "),e&&a&&i&&t&&(ze(),je({idRequest:n,idFuelPoint:"",idWorkType:e.id,flyDate:null===F||void 0===F?void 0:F.format("YYYY-MM-DD"),idAirportArrival:a.id,idAirportDeparture:i.id,idEmpResp:t.id,passengerCount:Q,cargoWeightIn:te,cargoWeightOut:re,cargoWeightMount:_}))}}()},onCancel:ze,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{value:v,size:"large",options:s,style:{width:"100%"},onSearch:function(e){return d((t=e,ve?ve.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return S(e)}}),Object($.jsx)(le.a,{value:I,size:"large",options:l,style:{width:"100%"},onSearch:function(e){return c((t=e,Ee?Ee.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return k(e)}}),Object($.jsx)(ce.a,{value:F,style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&E(e)},onOk:function(e){return E(e)}}),Object($.jsx)(le.a,{value:q,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Me(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}}),Object($.jsx)(le.a,{value:B,size:"large",options:f,style:{width:"100%"},onSearch:function(e){return p(Me(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return Y(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{value:Q,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&U(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{value:_,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&X(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{value:re,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ue(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{value:te,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ne(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},Ee=n(241),ze=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=y.useGetHistoryMutation(),c=Object(P.a)(l,2),o=c[0],u=c[1],s=u.data,d=u.isLoading;Object(i.useEffect)((function(){o(e.requestId)}),[]),Object(i.useEffect)((function(){s&&r(s)}),[s]);var j=function(){e.setVisible(!1)};return Object($.jsx)(N.a,{title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",open:e.visible,onOk:function(){e.setVisible(!1)},onCancel:j,width:1200,footer:[Object($.jsx)(B.a,{onClick:j,children:"\u041d\u0430\u0437\u0430\u0434"},"back")],children:Object($.jsx)(Ee.a,{bordered:!0,size:"small",pagination:{pageSizeOptions:["10","15","20","25"]},columns:[{title:"\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",key:"date",dataIndex:"date"},{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",key:"employee",dataIndex:"employee"},{title:"\u041f\u043e\u043b\u0435",key:"field",dataIndex:"field"},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",key:"action",dataIndex:"action"},{title:"\u041d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",key:"newValue",dataIndex:"newValue"},{title:"\u0421\u0442\u0430\u0440\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",key:"oldValue",dataIndex:"oldValue"}],dataSource:a,loading:d})})},Me=function(e){var t=Object(i.useState)(null),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)(null),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)(0),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(0),p=Object(P.a)(f,2),h=p[0],m=p[1],x=g.useGetAllMutation(),v=Object(P.a)(x,2),S=v[0],w=v[1],T=w.data,C=w.isLoading,I=O.useGetAllMutation(),k=Object(P.a)(I,2),D=k[0],A=k[1],F=A.data,E=A.isLoading,z=y.useCreateCostMutation(),M=Object(P.a)(z,2),q=(M[0],M[1]),L=q.data;q.isLoading;Object(i.useEffect)((function(){S(),D()}),[]),Object(i.useEffect)((function(){L&&(e.setVisible(!1),e.refresh(e.requestId))}),[L]);return Object($.jsx)(N.a,{title:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0447\u0435\u0433\u043e-\u0442\u043e \u0442\u043e \u0442\u0430\u043c...",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){},onCancel:function(){e.setVisible(!1)},width:600,children:Object($.jsxs)(Ce.a,{labelCol:{span:6},wrapperCol:{span:18},children:[Object($.jsx)(Ce.a.Item,{label:"\u0424\u0438\u043b\u0438\u0430\u043b",children:Object($.jsx)(H.a,{value:a,disabled:C,size:"middle",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u0438\u0430\u043b",loading:C,style:{width:"100%"},options:null===T||void 0===T?void 0:T.map((function(e){return{value:e.id.toString(),label:"".concat(e.name)}})),onSelect:function(e,t){r(t.value)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",children:Object($.jsx)(H.a,{value:o,disabled:E,size:"middle",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",loading:E,style:{width:"100%"},options:null===F||void 0===F?void 0:F.map((function(e){return{value:e.id.toString(),label:"".concat(e.name)}})),onSelect:function(e,t){u(t.value)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430 (\u0447\u0430\u0441)",children:Object($.jsx)(oe.a,{style:{width:200},value:j,onChange:function(e){e&&b(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0417\u0430\u0442\u0440\u0430\u0442\u044b (\u0440\u0443\u0431)",children:Object($.jsx)(oe.a,{style:{width:200},value:h,onChange:function(e){e&&m(e)}})})]})})},qe=function(e){var t=Object(i.useState)(e.data.selectedFilialId),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)(e.data.selectedWorkType),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)(e.data.flightDuration),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(e.data.flightCost),p=Object(P.a)(f,2),h=p[0],m=p[1],x=g.useGetAllMutation(),v=Object(P.a)(x,2),S=v[0],w=v[1],T=w.data,C=w.isLoading,I=O.useGetAllMutation(),k=Object(P.a)(I,2),D=k[0],A=k[1],F=A.data,E=A.isLoading,z=y.useUpdateCostMutation(),M=Object(P.a)(z,2),q=M[0],L=M[1],W=L.data;L.isLoading;Object(i.useEffect)((function(){S(),D(),r(e.data.selectedFilialId)}),[]),Object(i.useEffect)((function(){W&&(e.setVisible(!1),e.refresh(e.requestId))}),[W]);return Object($.jsx)(N.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){o&&a&&j&&h&&q({costId:e.data.costId,requestId:e.requestId,filialId:a,workTypeId:o,duration:j,cost:h})},onCancel:function(){e.setVisible(!1)},width:600,children:Object($.jsxs)(Ce.a,{labelCol:{span:6},wrapperCol:{span:18},children:[Object($.jsx)(Ce.a.Item,{label:"\u0424\u0438\u043b\u0438\u0430\u043b",children:Object($.jsx)(H.a,{defaultValue:a.toString(),disabled:C,size:"middle",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0438\u043b\u0438\u0430\u043b",loading:C,style:{width:"100%"},options:null===T||void 0===T?void 0:T.map((function(e){return{value:e.id.toString(),label:"".concat(e.name)}})),onSelect:function(e,t){r(t.value)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",children:Object($.jsx)(H.a,{defaultValue:o.toString(),disabled:E,size:"middle",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",loading:E,style:{width:"100%"},options:null===F||void 0===F?void 0:F.map((function(e){return{value:e.id.toString(),label:"".concat(e.name)}})),onSelect:function(e,t){u(t.value)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430 (\u0447\u0430\u0441)",children:Object($.jsx)(oe.a,{style:{width:200},value:j,onChange:function(e){e&&b(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0417\u0430\u0442\u0440\u0430\u0442\u044b (\u0440\u0443\u0431)",children:Object($.jsx)(oe.a,{style:{width:200},value:h,onChange:function(e){e&&m(e)}})})]})})},Pe=L.a.Text,Le=ce.a.RangePicker,We="YYYY-MM-DD HH:mm:ss",Ge=function(){var e=Object(i.useState)(""),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),l=Object(P.a)(r,2),c=l[0],o=l[1],u=Object(i.useState)([]),s=Object(P.a)(u,2),d=s[0],j=s[1],b=Object(i.useState)(null),f=Object(P.a)(b,2),p=f[0],O=f[1],h=Object(i.useState)(null),m=Object(P.a)(h,2),x=m[0],T=m[1],C=Object(i.useState)(!1),I=Object(P.a)(C,2),k=I[0],D=I[1],A=Object(i.useState)(!1),F=Object(P.a)(A,2),E=F[0],z=F[1],q=Object(i.useRef)(null),L=Object(i.useState)(null),W=Object(P.a)(L,2),N=W[0],V=W[1],Q=Object(i.useState)(null),K=Object(P.a)(Q,2),X=K[0],Z=K[1],ee=Object(i.useState)(""),ie=Object(P.a)(ee,2),le=ie[0],ce=ie[1],ue=Object(i.useState)(""),se=Object(P.a)(ue,2),je=se[0],be=se[1],fe=Object(i.useState)(""),pe=Object(P.a)(fe,2),ge=pe[0],Oe=pe[1],he=Object(i.useState)(!1),me=Object(P.a)(he,2),xe=me[0],ye=me[1],ve=Object(i.useState)(0),Se=Object(P.a)(ve,2),we=Se[0],ke=Se[1],Ee=Object(i.useState)(0),Ge=Object(P.a)(Ee,2),Re=Ge[0],Be=Ge[1],Ne=Object(i.useState)(0),Ye=Object(P.a)(Ne,2),He=Ye[0],Ve=Ye[1],Qe=Object(i.useState)(0),Ue=Object(P.a)(Qe,2),Je=Ue[0],Ke=Ue[1],_e=Object(i.useState)(2),Xe=Object(P.a)(_e,2),Ze=Xe[0],$e=Xe[1],tt=Object(i.useState)(!1),nt=Object(P.a)(tt,2),at=nt[0],it=nt[1],rt=Object(i.useState)(!1),lt=Object(P.a)(rt,2),ct=lt[0],ot=lt[1],ut=et.create("Ext.data.Store",{data:c,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),st=et.create("Ext.data.Store",{data:d,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),dt=Object(M.o)(),jt=Object(M.m)(),bt=y.useGetByIdMutation(),ft=Object(P.a)(bt,2),pt=ft[0],gt=ft[1],Ot=gt.data,ht=(gt.isLoading,g.useGetAllMutation()),mt=Object(P.a)(ht,2),xt=mt[0],yt=mt[1],vt=yt.data,St=yt.isLoading,wt=v.useGetAllMutation(),Tt=Object(P.a)(wt,2),Ct=Tt[0],It=Tt[1],kt=It.data,Dt=It.isLoading,At=S.useGetAllMutation(),Ft=Object(P.a)(At,2),Et=Ft[0],zt=Ft[1],Mt=zt.data,qt=zt.isLoading,Pt=w.useGetAllMutation(),Lt=Object(P.a)(Pt,2),Wt=Lt[0],Gt=Lt[1],Rt=Gt.data,Bt=(Gt.isLoading,y.useUpdateDateMutation()),Nt=Object(P.a)(Bt,2),Yt=Nt[0];Object(Te.a)(Nt[1]);var Ht=y.useGetCostsMutation(),Vt=Object(P.a)(Ht,2),Qt=Vt[0],Ut=Vt[1],Jt=Ut.data;Ut.isLoading;Object(i.useEffect)((function(){Wt(),Et(),Ct(),xt(),Qt(jt.pathname.split("/")[2]),pt(jt.pathname.split("/")[2])}),[]),Object(i.useEffect)((function(){var e,t,n,i;Ot&&($e(Ot.roundDigit),Ve(null!==(e=Ot.cost)&&void 0!==e?e:0),Ke(null!==(t=Ot.cost)&&void 0!==t?t:0),ke(null!==(n=Ot.duration)&&void 0!==n?n:0),Be(null!==(i=Ot.durationOut)&&void 0!==i?i:0),a(Ot.id),o(null===Ot||void 0===Ot?void 0:Ot.routes.map((function(e){return{dateTime:e.dateTime,cargoWeightOut:e.cargoWeightOut,cargoWeightMount:e.cargoWeightMount,routeId:e.routeId,passengerCount:e.passengerCount,workType:e.workType,airportDeparture:e.airportDeparture,cargoWeightIn:e.cargoWeightIn,id:e.id,employee:e.employee,airportArrival:e.airportArrival,idFlightFilial:"",idFuelPoint:""}}))),j(null===Ot||void 0===Ot?void 0:Ot.factRoutes.map((function(e){return{dateTime:e.dateTime,cargoWeightOut:e.cargoWeightOut,cargoWeightMount:e.cargoWeightMount,routeId:e.routeId,passengerCount:e.passengerCount,workType:e.workType,airportDeparture:e.airportDeparture,cargoWeightIn:e.cargoWeightIn,id:e.id,employee:e.employee,airportArrival:e.airportArrival,idFlightFilial:"",idFuelPoint:""}}))),V(de()(Ot.flyDateStart.slice(0,19),We)),Z(de()(Ot.flyDateFinish.slice(0,19),We)),ce("".concat(Ot.aircraftModelName,"/").concat(Ot.airlineName,"/").concat(Ot.airlineName)),be(Ot.flightTargetName),Oe(Ot.empCustomerLastName+" "+Ot.empCustomerName+" "+Ot.empCustomerSecondName))}),[Ot]),Object(i.useEffect)((function(){null!==p&&z(!0)}),[p]),Object(i.useEffect)((function(){var e,t,n,a;c.length>0&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll())}),[c]),Object(i.useEffect)((function(){var e,t,n,a;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll()}),[E]);return Object($.jsxs)($.Fragment,{children:[xe&&Object($.jsx)(ze,{visible:xe,setVisible:ye,requestId:n}),k&&Object($.jsx)(Fe,{visible:k,setVisible:D,refresh:pt}),p&&Object($.jsx)(Ae,{visible:E,setVisible:z,refresh:pt,rowData:p,setRowData:O}),Object($.jsx)(Me,{visible:at,setVisible:it,requestId:n,refresh:Qt}),x&&Object($.jsx)(qe,{visible:ct,setVisible:ot,requestId:n,refresh:Qt,data:x}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),void 0===vt||void 0===Ot?Object($.jsx)(G.a,{style:{height:window.innerHeight},justify:ne.center,align:ae.center,children:Object($.jsx)(R.a,{size:"large"})}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{justify:ne.flexStart,children:[Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsxs)(G.a,{gap:"middle",style:{margin:"0 0 7px 0"},children:[Object($.jsx)(B.a,{size:"large",onClick:function(){return dt("/requests")},icon:Object($.jsx)(J.a,{})}),Object($.jsx)(B.a,{size:"large",onClick:function(){return ye(!0)},icon:Object($.jsx)(Ie.a,{})}),Object($.jsx)(B.a,{size:"large",onClick:function(){pt(n)},icon:Object($.jsx)(_.a,{})})]}),Object($.jsx)(Pe,{children:Object($.jsx)("strong",{children:"\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438"})}),Object($.jsxs)(Pe,{children:["\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:n})]}),Object($.jsxs)(Pe,{children:["\u041a\u043e\u0434 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:n})]}),Object($.jsx)(B.a,{style:{marginTop:5,width:160},size:"middle",children:"\u041f\u043e\u043b\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),Object($.jsx)(B.a,{style:{width:160},danger:!0,size:"middle",children:"\u041f\u043e\u043b\u0435\u0442 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d"})]}),Object($.jsx)(Y.a,{type:"vertical",style:{height:237}}),Object($.jsx)(G.a,{gap:"small",vertical:!0,style:{margin:"20px 0 0 13px"},children:Object($.jsxs)(Ce.a,{style:{maxWidth:600},labelCol:{span:8},wrapperCol:{span:20},children:[Object($.jsx)(Ce.a.Item,{label:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043b\u0435\u0442\u0430",children:Object($.jsx)(Le,{showTime:!0,value:[N,X],format:We,onChange:function(e){e&&e[0]&&e[1]&&(V(e[0]),Z(e[1]),Yt({id:n,field:"date",dateStart:e[0].format("YYYY-MM-DD HH:mm:ss"),dateFinish:e[1].format("YYYY-MM-DD HH:mm:ss")}))}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",children:Object($.jsx)(H.a,{value:le,disabled:Dt,size:"middle",placeholder:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",loading:St,style:{width:"100%"},options:null===kt||void 0===kt?void 0:kt.map((function(e){return{value:e.idContractData.toString(),label:"".concat(e.aircraftModelName,"/").concat(e.contractName,"/").concat(e.airlineName)}})),onSelect:function(e,t){ce(e),Yt({id:n,field:"aircraft",idContractData:t.value})}})}),Object($.jsx)(Ce.a.Item,{label:"\u0426\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430",children:Object($.jsx)(H.a,{value:je,disabled:qt,size:"middle",placeholder:"\u0426\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430",loading:St,style:{width:"100%"},options:null===Mt||void 0===Mt?void 0:Mt.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e,t){Yt({id:n,field:"target",idTarget:t.value}),be(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0424\u0418\u041e \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430",children:Object($.jsx)(H.a,{value:ge,disabled:qt,size:"middle",placeholder:"\u0424\u0418\u041e \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430",loading:St,style:{width:"100%"},options:null===Rt||void 0===Rt?void 0:Rt.map((function(e){return{value:e.id.toString(),label:e.empLastName+" "+e.empName+" "+e.empSecondName}})),onSelect:function(e,t){Yt({id:n,field:"empCustomer",idEmpCustomer:t.value}),Oe(e)}})})]})}),Object($.jsx)(Y.a,{type:"vertical",style:{height:237,marginLeft:23}}),Object($.jsx)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 0 0 13px"},children:n&&Object($.jsx)(De,{requestId:n})})]}),Object($.jsx)(U.a,{defaultActiveKey:["1"],items:[{key:"0",label:"\u0417\u0430\u0442\u0440\u0430\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{wrap:"wrap",gap:"large",justify:ne.flexStart,children:[Object($.jsxs)(Ce.a,{labelCol:{span:9},wrapperCol:{span:8},children:[Object($.jsx)(Ce.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u043b\u0435\u0442\u0430",children:Object($.jsx)(oe.a,{style:{width:200},value:we,onChange:function(e){e&&(ke(e),Yt({id:n,field:"flightDuration",value:e}))}})}),Object($.jsx)(Ce.a.Item,{label:"\u041d\u0430\u043b\u0435\u0442 \u0432 \u0434\u043e\u043b\u044f\u0445, \u0447",children:Object($.jsx)(oe.a,{style:{width:200},value:Re,onChange:function(e){e&&(Be(e),Yt({id:n,field:"flightDurationOut",value:e}))}})}),Object($.jsx)(Ce.a.Item,{label:"\u0418\u0442\u043e\u0433\u043e",children:Object($.jsx)(oe.a,{style:{width:200},value:Je,onChange:function(e){e&&(Ke(e),Yt({id:n,field:"costOut",value:e}))}})})]}),Object($.jsxs)(Ce.a,{labelCol:{span:9},wrapperCol:{span:8},children:[Object($.jsx)(Ce.a.Item,{label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",children:Object($.jsx)(oe.a,{style:{width:200},value:He,onChange:function(e){e&&(Ve(e),Yt({id:n,field:"cost",value:e}))}})}),Object($.jsx)(Ce.a.Item,{label:"\u041e\u043a\u0440\u0443\u0433\u043b\u0438\u0442\u044c \u0434\u043e",children:Object($.jsx)(H.a,{value:Ze,disabled:Dt,size:"middle",placeholder:"\u0412 \u0442.\u0447. \u043a \u043e\u043f\u043b\u0430\u0442\u0435 (\u0441 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u043e\u0439)",loading:St,style:{width:200},options:[{value:2,label:"2 \u0437\u043d\u0430\u043a\u043e\u0432"},{value:3,label:"3 \u0437\u043d\u0430\u043a\u043e\u0432"}],onSelect:function(e,t){$e(t.value),Yt({id:n,field:"roundDigit",value:e})}})})]})]}),Object($.jsx)(B.a,{style:{marginBottom:10},onClick:function(){return it(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),et.isDomReady&&Object($.jsx)(re.a,{data:Jt,collapse:!1,ref:q,style:{height:250},columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){ot(!0),T({selectedFilialId:e.location.record.data.filialId,selectedWorkType:e.location.record.data.workTypeId,flightDuration:e.location.record.data.duration,flightCost:e.location.record.data.cost,costId:e.location.record.data.costId})},columns:[{text:"\u0424\u0438\u043b\u0438\u0430\u043b",dataIndex:"filialName",groupable:!0,filterType:"string",flex:1},{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workTypeName",groupable:!0,filterType:"string",width:200},{text:"\u041d\u0430\u043b\u0435\u0442 (\u0447\u0430\u0441)",dataIndex:"duration",groupable:!0,filterType:"date",flex:1},{text:"\u0417\u0430\u0442\u0440\u0430\u0442\u044b (\u0440\u0443\u0431.)",dataIndex:"cost",groupable:!0,filterType:"string",flex:1},{text:"\u0422\u0430\u0440\u0438\u0444",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1,hidden:!0}]})]})},{key:"1",label:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0px 0px 15px 0px"},children:Object($.jsx)(B.a,{disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===Ot.stateName,size:"middle",style:{width:230},onClick:function(){return D(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,ref:q,style:{height:440},store:ut,columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"!==Ot.stateName&&O(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",dataIndex:"idFuelPoint",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})},{key:"2",label:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0px 0px 15px 0px"},children:Object($.jsx)(B.a,{disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===Ot.stateName,size:"middle",style:{width:230},onClick:function(){return D(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,ref:q,style:{height:440},store:st,columnLines:!0,grouped:!0,shadow:!1,groupHeaderTpl:"{name} ({group.length})",groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"!==Ot.stateName&&O(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})}]})]})]})]})},Re=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)([]),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)([]),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(e.rowData.workType),p=Object(P.a)(f,2),g=p[0],x=p[1],y=Object(i.useState)(e.rowData.employee),v=Object(P.a)(y,2),S=v[0],w=v[1],T=Object(i.useState)(""),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(""),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(""),M=Object(P.a)(z,2),q=M[0],L=M[1],W=Object(i.useState)(-1),R=Object(P.a)(W,2),Y=R[0],H=R[1],V=Object(i.useState)(-1),Q=Object(P.a)(V,2),U=Q[0],J=Q[1],K=Object(i.useState)(-1),_=Object(P.a)(K,2),X=_[0],Z=_[1],ee=Object(i.useState)(-1),te=Object(P.a)(ee,2),ae=te[0],ie=te[1],re=O.useGetAllMutation(),ue=Object(P.a)(re,2),se=ue[0],je=ue[1],be=je.data,fe=(je.isLoading,h.useGetAllMutation()),pe=Object(P.a)(fe,2),ge=pe[0],Oe=pe[1],he=Oe.data,me=(Oe.isLoading,m.useGetAllMutation()),xe=Object(P.a)(me,2),ye=xe[0],ve=xe[1],Se=ve.data;ve.isLoading;Object(i.useEffect)((function(){E(e.rowData.airportDeparture),L(e.rowData.airportArrival),H(e.rowData.passengerCount),J(e.rowData.cargoWeightMount),Z(e.rowData.cargoWeightIn),ie(e.rowData.cargoWeightOut),k(e.rowData.dateTime),se(),ge(),ye()}),[]),Object(i.useEffect)((function(){Se&&r(Se.map((function(e){return{value:e.fio}})))}),[Se]),Object(i.useEffect)((function(){be&&u(be.map((function(e){return{value:e.name}})))}),[be]),Object(i.useEffect)((function(){he&&b(he.map((function(e){return{value:e.name}})))}),[he]);var we=function(){var t=null===he||void 0===he?void 0:he.find((function(e){return e.name===q})),n=null===he||void 0===he?void 0:he.find((function(e){return e.name===F})),a=null===be||void 0===be?void 0:be.find((function(e){return e.name===g})),i=null===Se||void 0===Se?void 0:Se.find((function(e){return e.fio===S}));void 0===i&&console.log("Not Finded"),t&&n&&a&&i&&(e.setGridData((function(r){return JSON.parse(JSON.stringify(r)).map((function(r){return r.id===e.rowData.id&&(r={dateTime:I,cargoWeightOut:ae.toString(),cargoWeightMount:U.toString(),routeId:"",passengerCount:Y.toString(),workType:a.name,workTypeId:a.id.toString(),airportDeparture:n.name,airportDepartureId:n.id.toString(),cargoWeightIn:X.toString(),id:"",employee:i.fio,employeeId:i.id.toString(),airportArrival:t.name,airportArrivalId:t.id.toString(),idFlightFilial:"",idFuelPoint:""}),r}))})),Te())},Te=function(){e.setVisible(!1),e.setRowData(null),x(""),w(""),k(""),E(""),L(""),H(-1),J(-1),ie(-1),Z(-1)},Ie=function(e){return he?he.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",okText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return we()},onCancel:Te,width:740,footer:function(){return Object($.jsxs)(G.a,{justify:ne.flexEnd,gap:"small",children:[Object($.jsx)(B.a,{onClick:Te,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object($.jsx)(B.a,{type:"primary",onClick:we,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},children:Object($.jsx)(Ce.a,{style:{maxWidth:1200},layout:"vertical",children:Object($.jsxs)(G.a,{gap:"middle",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(Ce.a.Item,{label:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",children:Object($.jsx)(le.a,{value:g,size:"large",options:o,style:{width:"100%"},onSearch:function(e){return u((t=e,be?be.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return x(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043b\u0438\u0446\u043e",children:Object($.jsx)(le.a,{value:S,size:"large",options:a,style:{width:"100%"},onSearch:function(e){return r((t=e,Se?Se.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return w(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",children:Object($.jsx)(ce.a,{defaultValue:de()(I,"YYYY-MM-DD HH:mm:ss"),style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&k(e)},onOk:function(e){return k(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",children:Object($.jsx)(le.a,{value:F,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Ie(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return E(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",children:Object($.jsx)(le.a,{value:q,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Ie(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return L(e)}})})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(Ce.a.Item,{label:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",children:Object($.jsx)(le.a,{value:q,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Ie(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",notFoundContent:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",onSelect:function(e,t){return L(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",children:Object($.jsx)(oe.a,{value:Y,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&H(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"})}),Object($.jsx)(Ce.a.Item,{label:"\u041e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430",children:Object($.jsx)(oe.a,{value:U,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&J(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435",children:Object($.jsx)(oe.a,{value:ae,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ie(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430",children:Object($.jsx)(oe.a,{value:X,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&Z(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})})]})]})})})},Be=function(e){var t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=Object(i.useState)([]),c=Object(P.a)(l,2),o=c[0],u=c[1],s=Object(i.useState)([]),d=Object(P.a)(s,2),j=d[0],b=d[1],f=Object(i.useState)(""),p=Object(P.a)(f,2),x=p[0],y=p[1],v=Object(i.useState)(""),S=Object(P.a)(v,2),w=S[0],T=S[1],C=Object(i.useState)(""),I=Object(P.a)(C,2),k=I[0],D=I[1],A=Object(i.useState)(""),F=Object(P.a)(A,2),E=F[0],z=F[1],M=Object(i.useState)(""),q=Object(P.a)(M,2),L=q[0],W=q[1],R=Object(i.useState)(0),B=Object(P.a)(R,2),Y=B[0],H=B[1],V=Object(i.useState)(0),Q=Object(P.a)(V,2),U=Q[0],J=Q[1],K=Object(i.useState)(0),_=Object(P.a)(K,2),X=_[0],Z=_[1],ee=Object(i.useState)(0),te=Object(P.a)(ee,2),ne=te[0],ae=te[1],ie=g.useGetAllMutation(),re=Object(P.a)(ie,2),ue=re[0],se=re[1],de=(se.data,se.isLoading,O.useGetAllMutation()),je=Object(P.a)(de,2),be=je[0],fe=je[1],pe=fe.data,ge=(fe.isLoading,h.useGetAllMutation()),Oe=Object(P.a)(ge,2),he=Oe[0],me=Oe[1],xe=me.data,ye=(me.isLoading,m.useGetAllMutation()),ve=Object(P.a)(ye,2),Se=ve[0],we=ve[1],Te=we.data;we.isLoading;Object(i.useEffect)((function(){ue(),be(),he(),Se()}),[]),Object(i.useEffect)((function(){Te&&r(Te.map((function(e){return{value:e.fio}})))}),[Te]),Object(i.useEffect)((function(){pe&&u(pe.map((function(e){return{value:e.name}})))}),[pe]),Object(i.useEffect)((function(){xe&&b(xe.map((function(e){return{value:e.name}})))}),[xe]);var Ce=function(){e.setVisible(!1),y(""),T(""),D(""),z(""),W(""),H(0),J(0),ae(0),Z(0)},Ie=function(e){return xe?xe.filter((function(t){return t.name.includes(e)})).map((function(e){return{value:e.name}})):[]};return Object($.jsx)(N.a,{title:"\u041d\u043e\u0432\u044b\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442",okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",centered:!0,open:e.visible,onOk:function(){return function(){if(pe&&Te&&xe){var t=pe.find((function(e){return e.name===x})),n=Te.find((function(e){return e.fio===w})),a=xe.find((function(e){return e.name===L})),i=xe.find((function(e){return e.name===E}));void 0===t&&console.log("Not Finded"),void 0===n&&console.log("Not Finded"),void 0===i&&console.log("Not Finded"),void 0===a&&console.log("Not Finded"),null!==Y&&console.log("Pasc count "),null!==U&&console.log("Pasc count "),null!==ne&&console.log("Pasc count "),null!==X&&console.log("Pasc count "),t&&a&&i&&n&&(Ce(),e.setGridData((function(e){var a={dateTime:null===k||void 0===k?void 0:k.format("YYYY-MM-DD HH:mm:ss"),cargoWeightOut:ne.toString(),cargoWeightMount:U.toString(),routeId:"",passengerCount:Y.toString(),workType:t.name,workTypeId:t.id.toString(),airportDeparture:i.name,airportDepartureId:i.id.toString(),cargoWeightIn:X.toString(),id:"",employee:n.fio,employeeId:n.id.toString(),airportArrival:i.name,airportArrivalId:i.id.toString(),idFlightFilial:"",idFuelPoint:""};return e.concat(a)})))}}()},onCancel:Ce,width:740,children:Object($.jsxs)(G.a,{gap:"small",style:{width:"100%"},children:[Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(le.a,{value:x,size:"large",options:o,style:{width:"100%"},onSearch:function(e){return u((t=e,pe?pe.filter((function(e){return e.name.includes(t)})).map((function(e){return{value:e.name}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",notFoundContent:"\u0412\u0438\u0434\u044b \u0440\u0430\u0431\u043e\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return y(e)}}),Object($.jsx)(le.a,{value:w,size:"large",options:a,style:{width:"100%"},onSearch:function(e){return r((t=e,Te?Te.filter((function(e){return e.fio.includes(t)})).map((function(e){return{value:e.fio}})):[]));var t},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return T(e)}}),Object($.jsx)(ce.a,{value:k,style:{width:"100%"},size:"large",showTime:!0,onChange:function(e){e&&D(e)},onOk:function(e){return D(e)}}),Object($.jsx)(le.a,{value:E,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Ie(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return z(e)}}),Object($.jsx)(le.a,{value:L,size:"large",options:j,style:{width:"100%"},onSearch:function(e){return b(Ie(e))},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u0430\u043d\u0447\u0435\u043d\u0438\u044f",notFoundContent:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",onSelect:function(e,t){return W(e)}})]}),Object($.jsxs)(G.a,{vertical:!0,gap:"small",style:{width:"100%"},children:[Object($.jsx)(oe.a,{value:Y,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&H(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"}),Object($.jsx)(oe.a,{value:U,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&J(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430"}),Object($.jsx)(oe.a,{value:ne,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&ae(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435"}),Object($.jsx)(oe.a,{value:X,style:{width:"100%"},size:"large",min:0,onChange:function(e){e&&Z(e)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0433\u0440\u0443\u0437\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0438\u0437\u044e\u043b\u044f\u0436\u0430"})]})]})})},Ne=L.a.Text,Ye=ce.a.RangePicker,He=function(){var e=W.a.useMessage(),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(P.a)(r,2),c=l[0],o=(l[1],Object(i.useState)([])),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)(null),b=Object(P.a)(j,2),f=b[0],p=b[1],O=Object(i.useState)(!1),h=Object(P.a)(O,2),m=h[0],x=h[1],T=Object(i.useState)(!1),C=Object(P.a)(T,2),I=C[0],k=C[1],D=Object(i.useState)(null),A=Object(P.a)(D,2),F=A[0],E=A[1],z=Object(i.useState)(null),q=Object(P.a)(z,2),L=q[0],V=q[1],Q=Object(i.useState)(""),K=Object(P.a)(Q,2),_=K[0],X=K[1],Z=Object(i.useState)(""),ee=Object(P.a)(Z,2),ie=ee[0],le=ee[1],ce=Object(i.useState)(""),oe=Object(P.a)(ce,2),ue=oe[0],se=oe[1],de=et.create("Ext.data.Store",{data:s,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),je=Object(M.o)(),be=function(e){n.warning(e)},fe=g.useGetAllMutation(),Oe=Object(P.a)(fe,2),he=Oe[0],me=Oe[1],xe=me.data,ye=me.isLoading,ve=v.useGetAllMutation(),Se=Object(P.a)(ve,2),we=Se[0],Ie=Se[1],ke=Ie.data,Ae=Ie.isLoading,Fe=S.useGetAllMutation(),Ee=Object(P.a)(Fe,2),ze=Ee[0],Me=Ee[1],qe=Me.data,Pe=Me.isLoading,Le=w.useGetAllMutation(),We=Object(P.a)(Le,2),Ge=We[0],He=We[1],Ve=He.data,Qe=(He.isLoading,y.useUpdateDateMutation()),Ue=Object(P.a)(Qe,2),Je=Ue[0];Object(Te.a)(Ue[1]);var Ke=y.useCreateMutation(),_e=Object(P.a)(Ke,2),Xe=_e[0],Ze=_e[1];Ze.data,Ze.isLoading;Object(i.useEffect)((function(){Ge(),ze(),we(),he()}),[]),Object(i.useEffect)((function(){null!==f&&k(!0)}),[f]),Object(i.useEffect)((function(){var e,t,n,a;s.length>0&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll())}),[s]),Object(i.useEffect)((function(){var e,t,n,a;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll()}),[I]);return Object($.jsxs)($.Fragment,{children:[a,m&&Object($.jsx)(Be,{setGridData:d,visible:m,setVisible:x}),f&&Object($.jsx)(Re,{setGridData:d,visible:I,setVisible:k,rowData:f,setRowData:p}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),void 0===xe?Object($.jsx)(G.a,{style:{height:window.innerHeight},justify:ne.center,align:ae.center,children:Object($.jsx)(R.a,{size:"large"})}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{justify:ne.flexStart,children:[Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsxs)(G.a,{gap:"middle",style:{margin:"0 0 7px 0"},children:[Object($.jsx)(B.a,{size:"large",onClick:function(){N.a.confirm({onOk:function(){return je("/requests")},okText:"\u0414\u0430",title:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u043c\u0435\u043d\u044e?",content:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b, \u0435\u0441\u043b\u0438 \u0432\u044b \u0440\u0435\u0448\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0435\u0435.",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},icon:Object($.jsx)(J.a,{})}),Object($.jsx)(pe.a,{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443",placement:"right",children:Object($.jsx)(B.a,{type:"primary",ghost:!0,size:"large",onClick:function(){F&&L||be("\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0434\u0430\u0442\u0443 \u043f\u043e\u043b\u0435\u0442\u0430"),0===_.trim().length&&be("\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e"),0===ie.trim().length&&be("\u0412\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0446\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430"),0===ie.trim().length&&be("\u0412\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u0424\u0418\u041e \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430"),console.log(s),Xe({flyDateStart:F,flyDateFinish:L,aircraftModelId:1,contractDataId:1,flightTargetId:1,empCustomerId:1,routes:s})},icon:Object($.jsx)(ge.a,{})})})]}),Object($.jsxs)(Ne,{children:["\u041a\u043e\u0434 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:"N/A"})]}),Object($.jsx)(Ne,{children:Object($.jsx)("strong",{children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f"})})]}),Object($.jsx)(Y.a,{type:"vertical",style:{height:237}}),Object($.jsx)(G.a,{gap:"small",vertical:!0,style:{margin:"20px 0 0 13px"},children:Object($.jsxs)(Ce.a,{style:{maxWidth:600},labelCol:{span:8},wrapperCol:{span:20},children:[Object($.jsx)(Ce.a.Item,{label:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043b\u0435\u0442\u0430",children:Object($.jsx)(Ye,{showTime:!0,value:[F,L],format:"YYYY-MM-DD HH:mm:ss",onChange:function(e){e&&e[0]&&e[1]&&(E(e[0]),V(e[1]),Je({id:c,field:"date",dateStart:e[0].format("YYYY-MM-DD HH:mm:ss"),dateFinish:e[1].format("YYYY-MM-DD HH:mm:ss")}))}})}),Object($.jsx)(Ce.a.Item,{label:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",children:Object($.jsx)(H.a,{value:_,disabled:Ae,size:"middle",placeholder:"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0435 \u0441\u0443\u0434\u043d\u043e",loading:ye,style:{width:"100%"},options:null===ke||void 0===ke?void 0:ke.map((function(e){return{value:e.idContractData.toString(),label:"".concat(e.aircraftModelName,"/").concat(e.contractName,"/").concat(e.airlineName)}})),onSelect:function(e,t){X(e),Je({id:c,field:"aircraft",idContractData:t.value})}})}),Object($.jsx)(Ce.a.Item,{label:"\u0426\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430",children:Object($.jsx)(H.a,{value:ie,disabled:Pe,size:"middle",placeholder:"\u0426\u0435\u043b\u044c \u043f\u043e\u043b\u0435\u0442\u0430",loading:ye,style:{width:"100%"},options:null===qe||void 0===qe?void 0:qe.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e,t){Je({id:c,field:"target",idTarget:t.value}),le(e)}})}),Object($.jsx)(Ce.a.Item,{label:"\u0424\u0418\u041e \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430",children:Object($.jsx)(H.a,{value:ue,disabled:Pe,size:"middle",placeholder:"\u0424\u0418\u041e \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430",loading:ye,style:{width:"100%"},options:null===Ve||void 0===Ve?void 0:Ve.map((function(e){return{value:e.id.toString(),label:e.empLastName+" "+e.empName+" "+e.empSecondName}})),onSelect:function(e,t){Je({id:c,field:"empCustomer",idEmpCustomer:t.value}),se(e)}})})]})}),Object($.jsx)(Y.a,{type:"vertical",style:{height:237,marginLeft:23}}),Object($.jsx)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 0 0 13px"},children:c&&Object($.jsx)(De,{requestId:c})})]}),Object($.jsx)(U.a,{defaultActiveKey:["1"],items:[{key:"1",label:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0px 0px 15px 0px"},children:Object($.jsx)(B.a,{size:"middle",style:{width:230},onClick:function(){return x(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,style:{height:440},store:de,columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){p(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041c\u0435\u0441\u0442\u043e \u0434\u043e\u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0438",dataIndex:"idFuelPoint",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})}]})]})]})]})},Ve=function(){return Object($.jsx)("div",{style:{marginTop:400},children:Object($.jsx)(Q.a,{image:Q.a.PRESENTED_IMAGE_DEFAULT,description:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})},Qe=L.a.Text,Ue=function(){var e=Object(M.o)(),t=Object(i.useState)([]),n=Object(P.a)(t,2),a=n[0],r=n[1],l=I.useGetAllByYearMutation(),c=Object(P.a)(l,2),o=c[0],u=c[1],s=u.data,d=u.isLoading,j=Object(i.useState)(2023),b=Object(P.a)(j,2),f=b[0],p=b[1];Object(i.useEffect)((function(){o(f)}),[]),Object(i.useEffect)((function(){s&&r(s)}),[s]);var g=et.create("Ext.data.Store",{data:a,groupers:[],fields:[{name:"id",type:"int"},{name:"createDate",type:"date",dateFormat:"c"},{name:"filial",type:"string"},{name:"nameState",type:"string"}]});return Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),Object($.jsx)(G.a,{style:{margin:"0 0 0 8px"},gap:"small",justify:ne.center,children:Object($.jsx)(Qe,{style:{fontSize:22,fontWeight:500},children:"\u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0442\u043e\u0432 \u0432\u0435\u0440\u0442\u043e\u043b\u0435\u0442\u0430\u043c\u0438"})}),Object($.jsxs)(G.a,{style:{margin:"0 5px 0 5px"},gap:"small",vertical:!1,justify:ne.spaceBetween,children:[Object($.jsx)(B.a,{onClick:function(){return e("create")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object($.jsx)(H.a,{disabled:d,value:f,onChange:function(e){p(e),o(e)},options:ie.map((function(e){return{value:e,label:e.toString()}}))})]}),Object($.jsx)("div",{style:{height:window.innerHeight},children:et.isDomReady&&Object($.jsx)(re.a,{style:{height:"100%"},store:g,columnLines:!0,grouped:!0,shadow:!1,groupHeaderTpl:"{name} ({group.length})",summaryPosition:"docked",onChilddoubletap:function(t){var n=t.location.record.data.id;return e("".concat(n))},columns:[{text:"\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",dataIndex:"airlineName",groupable:!0,filterType:"string",flex:2},{text:"\u041d\u043e\u043c\u0435\u0440",dataIndex:"id",groupable:!0,filterType:"string",flex:1},{text:"\u0414\u0430\u0442\u0430",dataIndex:"date",groupable:!0,filterType:"string",flex:2},{text:"\u041f\u0435\u0440\u0438\u043e\u0434: \u0441",dataIndex:"flyDateStart",groupable:!0,filterType:"string",flex:2},{text:"\u041f\u0435\u0440\u0438\u043e\u0434: \u043f\u043e",dataIndex:"flyDateFinish",groupable:!0,filterType:"string",flex:2}],platformConfig:{desktop:{plugins:{groupingpanel:!0}}}})})]})},Je=ce.a.RangePicker,Ke=L.a.Text,_e=function(){var e=Object(i.useState)(""),t=Object(P.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),l=Object(P.a)(r,2),c=(l[0],l[1]),o=Object(i.useState)(""),u=Object(P.a)(o,2),s=u[0],d=u[1],j=Object(i.useState)(""),b=Object(P.a)(j,2),f=b[0],p=b[1],g=Object(i.useState)([]),h=Object(P.a)(g,2),m=h[0],x=(h[1],Object(i.useState)(null)),y=Object(P.a)(x,2),v=y[0],S=y[1],w=Object(i.useState)(!1),T=Object(P.a)(w,2),C=T[0],D=T[1],A=Object(i.useState)(!1),F=Object(P.a)(A,2),E=F[0],z=F[1],q=Object(i.useState)(null),L=Object(P.a)(q,2),W=L[0],V=L[1],Q=Object(i.useState)(null),K=Object(P.a)(Q,2),X=K[0],Z=K[1],ee=Object(i.useState)(""),ie=Object(P.a)(ee,2),le=(ie[0],ie[1]),oe=et.create("Ext.data.Store",{data:m,groupers:["workType","employee"],fields:[{name:"workType",type:"string"},{name:"employee",type:"string"}]}),se=Object(M.o)(),be=Object(M.m)(),fe=I.useGetByIdMutation(),pe=Object(P.a)(fe,2),ge=pe[0],Oe=pe[1],he=Oe.data,me=(Oe.isLoading,k.useGetAllMutation()),xe=Object(P.a)(me,2),ye=xe[0],ve=xe[1],Se=ve.data,we=ve.isLoading,Te=O.useGetAllMutation(),Ce=Object(P.a)(Te,2),Ie=Ce[0],ke=Ce[1],De=ke.data,Ae=ke.isLoading;Object(i.useEffect)((function(){Ie(),ye(),ge(be.pathname.split("/")[2])}),[]),Object(i.useEffect)((function(){he&&(a(he.id),d(he.airlineId),p(he.workTypeId),c(he.idState))}),[he]),Object(i.useEffect)((function(){null!==v&&z(!0)}),[v]),Object(i.useEffect)((function(){var e,t,n,a;m.length>0&&(null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll())}),[m]),Object(i.useEffect)((function(){var e,t,n,a;null===(e=document)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.querySelectorAll("ext-treegroupedgrid")[0])||void 0===n||null===(a=n.cmp)||void 0===a||a.expandAll()}),[C,E]);var Fe=function(){};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ue,{visible:C,setVisible:D,refresh:ge}),v&&Object($.jsx)(je,{visible:E,setVisible:z,refresh:ge,rowData:v,setRowData:S}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,children:[Object($.jsx)(te,{}),void 0===Se||void 0===he?Object($.jsx)(G.a,{style:{height:window.innerHeight},justify:ne.center,align:ae.center,children:Object($.jsx)(R.a,{size:"large"})}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(G.a,{justify:ne.flexStart,children:[Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsxs)(G.a,{gap:"middle",style:{margin:"0 0 7px 0"},children:[Object($.jsx)(B.a,{size:"large",onClick:function(){return se("/requestsByHelicopter")},icon:Object($.jsx)(J.a,{})}),Object($.jsx)(B.a,{size:"large",onClick:function(){ge(n)},icon:Object($.jsx)(_.a,{})})]}),Object($.jsxs)(Ke,{children:["\u041a\u043e\u0434 \u0437\u0430\u044f\u0432\u043a\u0438 ",Object($.jsx)("strong",{children:n})]}),Object($.jsx)(Ke,{children:Object($.jsx)("strong",{children:he.nameState})}),Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",onOk:function(){},content:"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0421\u041e\u041f?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435"}),"\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438"===he.nameState&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",onOk:Fe,content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object($.jsx)(B.a,{size:"middle",onClick:function(){N.a.confirm({title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",okText:"\u0414\u0430, \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c",onOk:function(){},content:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443?",footer:function(e,t){var n=t.OkBtn,a=t.CancelBtn;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(a,{}),Object($.jsx)(n,{})]})}})},children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]}),Object($.jsx)(Y.a,{type:"vertical",style:{height:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"===he.nameState?160:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===he.nameState||"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e"===he.nameState?120:200}}),Object($.jsxs)(G.a,{gap:"small",vertical:!0,style:{margin:"5px 10px 0 17px"},children:[Object($.jsx)(H.a,{style:{width:"100%"},disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===he.nameState,size:"middle",placeholder:"\u0424\u0438\u043b\u0438\u0430\u043b",loading:we,value:s.toString(),options:Se.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e){return d(e)}}),Object($.jsx)(H.a,{style:{width:"100%"},disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===he.nameState,size:"middle",placeholder:"\u0424\u0438\u043b\u0438\u0430\u043b",loading:Ae,value:f.toString(),options:null===De||void 0===De?void 0:De.map((function(e){return{value:e.id.toString(),label:e.name}})),onSelect:function(e){return p(e)}}),Object($.jsx)(ce.a,{defaultValue:de()(null===he||void 0===he?void 0:he.date),style:{width:"100%"},size:"middle",showTime:!0,onChange:function(e){e&&le(e)},onOk:function(e){return le(e)}}),Object($.jsx)(Je,{showTime:!0,defaultValue:[W,X],value:[de()(null===he||void 0===he?void 0:he.flyDateStart),de()(null===he||void 0===he?void 0:he.flyDateFinish)],format:"YYYY-MM-DD HH:mm:ss",onChange:function(e){e&&e[0]&&e[1]&&(V(e[0]),Z(e[1]))}})]})]}),Object($.jsx)(U.a,{defaultActiveKey:["0"],items:[{key:"0",label:"\u041f\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u0435\u0442\u044b",children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)(G.a,{wrap:"wrap",gap:"small",justify:ne.flexStart,style:{margin:"0 0 15px 0"},children:Object($.jsx)(B.a,{disabled:"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"===he.nameState,size:"middle",style:{width:152},onClick:function(){return D(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442"})}),et.isDomReady&&Object($.jsx)(re.a,{collapse:!1,style:{height:window.innerHeight-325},store:oe,columnLines:!0,grouped:!0,shadow:!1,groupSummaryPosition:"docked",summaryPosition:"docked",onChilddoubletap:function(e){"\u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"!==he.nameState&&S(e.location.record.data)},columns:[{text:"\u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442",dataIndex:"workType",groupable:!0,filterType:"string",flex:1,hidden:!0},{text:"\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439",dataIndex:"employee",groupable:!0,filterType:"string",width:200,hidden:!0},{text:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"dateTime",groupable:!0,filterType:"date",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u0432\u044b\u043b\u0435\u0442\u0430",dataIndex:"airportDeparture",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",dataIndex:"airportArrival",groupable:!0,filterType:"string",flex:1},{text:"\u041a\u043e\u043b-\u0432\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432",dataIndex:"passengerCount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u0441\u0435\u0433\u043e, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightMount",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u043f\u043e\u0434\u0432\u0435\u0441\u043a\u0435, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightOut",xtype:"numbercolumn",align:"center",filterType:"number",flex:1},{text:"\u0413\u0440\u0443\u0437 \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u044e\u0437\u0435\u043b\u044f\u0436\u0430, \u0442\u043e\u043d\u043d",dataIndex:"cargoWeightIn",xtype:"numbercolumn",align:"center",filterType:"number",flex:1}],platformConfig:{desktop:{plugins:{groupingpanel:!0,gridfilterbar:!0}}}})]})}]})]})]})]})},Xe=function(){return Object($.jsx)(z.a,{children:Object($.jsxs)(M.c,{children:[Object($.jsx)(M.a,{path:"/requestsFilials",element:Object($.jsx)(we,{})}),Object($.jsx)(M.a,{path:"/requestsFilials/:id",element:Object($.jsx)(fe,{})}),Object($.jsx)(M.a,{path:"/requestsFilials/create",element:Object($.jsx)(xe,{})}),Object($.jsx)(M.a,{path:"/requests",element:Object($.jsx)(ve,{})}),Object($.jsx)(M.a,{path:"/requests/:id",element:Object($.jsx)(Ge,{})}),Object($.jsx)(M.a,{path:"/requests/create",element:Object($.jsx)(He,{})}),Object($.jsx)(M.a,{path:"/requestsByHelicopter",element:Object($.jsx)(Ue,{})}),Object($.jsx)(M.a,{path:"/requestsByHelicopter/:id",element:Object($.jsx)(_e,{})}),Object($.jsx)(M.a,{path:"*",element:Object($.jsx)(Ve,{})})]})})},Ze=n(118),$e=Object(u.configureStore)({reducer:D,middleware:function(e){return e().concat(p.middleware).concat(g.middleware).concat(O.middleware).concat(h.middleware).concat(m.middleware).concat(x.middleware).concat(y.middleware).concat(v.middleware).concat(S.middleware).concat(w.middleware).concat(T.middleware).concat(C.middleware).concat(I.middleware).concat(k.middleware)}}),et=window.Ext;l.a.render(Object($.jsx)(Ze.Provider,{store:$e,children:Object($.jsx)(E.a,{locale:F.a,children:Object($.jsx)(Xe,{})})}),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.091dfc46.chunk.js.map